# 圣思园(细致)
### 类加载
* 在java代码中, 类型的加载, 链接与初始化过程都是在程序运行期间`Runtime`完成的
    * 加载(的一种常见情况):
        * 将class文件从磁盘加载到内存中
    * 链接: `个人理解: 将变量与内存链接, 并根据类型给初始值, 如 static int a=1; 此阶段为 a = 0;`
        * 将类与类之间的关系确定好
        * 字节码校验等
    * 初始化:
        * 静态变量赋值
* 提供了更大的灵活性,增加了更多的可能

---

### 类的加载,链接,初始化
* 加载: 查找并加载类的二进制数据
* 链接:
    * 验证: 确保被加载的类的正确性
    * 准备: 为类的`静态变量`分配内存, 并将其初始化为`默认值`
    * 解析: 把类中的符号引用转换为直接引用
* 初始化: 为类的静态变量赋予正确的初始值

### 类的使用与卸载
* 使用
* 卸载

---

### 类的加载
* 类的加载指的是将类的.class文件中的二进制数据读入到内存中, 将其放在运行时数据区的方法区内, 然后再内存中创建一个java.lang.Class对象(规范并未说明Class对象位于哪里, HotSpot虚拟机将其放在了方法区中)用来封装类在方法区内的数据结构
* 加载.class文件的方式
    * 从本地系统中直接加载
    * 通过网络下载.class文件
    * 从zip, jar等归档文件中加载.class文件
    * 从专有数据库中提取.class文件
    * 将java源文件动态编译为.class文件(动态代理, 类在运行期生成出来的, jsp编译成servlet时)



### 类的使用
* java程序对类的使用方式可分为两种
    * 主动使用
    * 被动使用
* 所有的java虚机实现必须在每个类或接口被Java程序`首次主动使用`时才初始化他们

* 主动使用(7种)
    1. 创建类的实例
    2. 访问某个类或者接口的静态变量, 或者对该静态变量赋值(`取值赋值`)
    3. 调用类的静态方法
    4. 反射(如Class.forName("com.test.Test"))
    5. 初始化一个类的子类
    6. java虚拟机启动时被标明为启动类的类(就是有main方法的类, java Test, java执行Test类)
    7. JDK1.7开始提供的动态语言支持:          java.lang.invoke.MethodHandle实例的解析结果REF_getStatic, REF_putStatic, REF_invokeStatic句柄对应的类没有初始化, 则初始化

* 除了上面7种情况, 其他使用Java类的方式被看做是对类的`被动使用`, 都不会导致类的初始化

* 被动模式实验
    * 对于静态属性, 只有定义该静态属性的类调用时才会被初始化





### 类加载器深入剖析
* java虚拟机与程序的生命周期
* 在如下几种情况下, Java虚拟机将结束生命周期
    1. 执行了 System.exit()方法
    2. 程序正常结束
    3. 程序执行过程中遇到了异常或错误而异常终止
    4. 由于操作系统出现错误,导致java虚拟机进程终止



---


# 咕泡学院(for interview)
### JVM运行数据区
数据
    方法区
    heap(堆)
指令
    程序计数器
    本地方法栈
    虚拟机线

---

# 云析学院
### 类加载器
1. java类由编译器 编译成 class文件
2. class文件由AppClassLoader加载到内存里
3. AppClassLoader又是由谁加载的呢?
    1. ExtClassLoader
    2.


运行时数据区



